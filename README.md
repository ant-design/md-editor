# Agentic UI

[![NPM version](https://img.shields.io/npm/v/@ant-design/md-editor.svg?style=flat)](https://npmjs.org/package/@ant-design/md-editor)
[![NPM downloads](http://img.shields.io/npm/dm/@ant-design/md-editor.svg?style=flat)](https://npmjs.org/package/@ant-design/md-editor)

åŸºäº React + TypeScript çš„ç°ä»£åŒ– Markdown ç¼–è¾‘å™¨ç»„ä»¶åº“ï¼Œä¸“ä¸º AI æ™ºèƒ½ä½“åº”ç”¨è®¾è®¡ã€‚æä¾›ä»å¯Œæ–‡æœ¬ç¼–è¾‘åˆ° AI å¯¹è¯å±•ç¤ºçš„å…¨å¥—ç»„ä»¶ï¼Œæ”¯æŒæ€ç»´é“¾å¯è§†åŒ–ã€å·¥å…·è°ƒç”¨å±•ç¤ºã€ä»»åŠ¡ç®¡ç†ç­‰ AI åº”ç”¨åœºæ™¯ã€‚

## âœ¨ ç‰¹æ€§

### ğŸ¯ æ ¸å¿ƒç¼–è¾‘åŠŸèƒ½

- **å¯Œæ–‡æœ¬ç¼–è¾‘**: åŸºäº Slate.js çš„å¼ºå¤§ç¼–è¾‘å™¨ï¼Œæ”¯æŒå®Œæ•´çš„ Markdown è¯­æ³•
- **å®æ—¶é¢„è§ˆ**: æ‰€è§å³æ‰€å¾—çš„ç¼–è¾‘ä½“éªŒï¼Œæ”¯æŒåŒæ æˆ–å•æ æ¨¡å¼
- **è¯­æ³•é«˜äº®**: åŸºäº Prism.js çš„å¤šè¯­è¨€ä»£ç é«˜äº®æ˜¾ç¤º
- **è¡¨æ ¼ç¼–è¾‘**: å¯è§†åŒ–è¡¨æ ¼ç¼–è¾‘å™¨ï¼Œæ”¯æŒè¡Œåˆ—æ“ä½œå’Œæ ¼å¼åŒ–

### ğŸ§© æ’ä»¶åŒ–æ¶æ„

- **æ•°å­¦å…¬å¼**: åŸºäº KaTeX çš„æ•°å­¦å…¬å¼æ¸²æŸ“æ”¯æŒ
- **å›¾è¡¨æ¸²æŸ“**: æ”¯æŒ Mermaid æµç¨‹å›¾ã€æ—¶åºå›¾ã€ç”˜ç‰¹å›¾ç­‰
- **ä»£ç æ‰§è¡Œ**: æ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€çš„ä»£ç å—æ‰§è¡Œ
- **å¹»ç¯ç‰‡æ¨¡å¼**: æ”¯æŒæ¼”ç¤ºæ–‡ç¨¿æ¨¡å¼ï¼Œé€‚åˆå±•ç¤ºå’Œæ•™å­¦

### ğŸ’¬ AI æ™ºèƒ½ä½“æ”¯æŒ

- **å¯¹è¯å®¹å™¨**: ä¸“ä¸º AI å¯¹è¯è®¾è®¡çš„ Bubble ç»„ä»¶ç³»ç»Ÿ
- **æ€ç»´é“¾å±•ç¤º**: ThoughtChainList ç»„ä»¶ï¼Œå¯è§†åŒ– AI æ¨ç†è¿‡ç¨‹
- **å·¥å…·è°ƒç”¨**: ToolUseBar ç»„ä»¶ï¼Œå±•ç¤º AI å·¥å…·ä½¿ç”¨æƒ…å†µ
- **ä»»åŠ¡ç®¡ç†**: TaskList ç»„ä»¶ï¼Œç®¡ç† AI æ‰§è¡Œçš„ä»»åŠ¡

### ğŸ¨ ç°ä»£åŒ– UI ç»„ä»¶

- **å·¥ä½œç©ºé—´**: Workspace ç»„ä»¶ï¼Œæä¾›æ–‡ä»¶ç®¡ç†å’Œæµè§ˆå™¨åŠŸèƒ½
- **å†å²è®°å½•**: History ç»„ä»¶ï¼Œæ”¯æŒæ“ä½œå†å²å’Œç‰ˆæœ¬ç®¡ç†
- **è¯­éŸ³äº¤äº’**: æ”¯æŒè¯­éŸ³è¾“å…¥å’Œè¯­éŸ³åˆæˆåŠŸèƒ½
- **å“åº”å¼è®¾è®¡**: å®Œç¾é€‚é…æ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯

### âš¡ æ€§èƒ½ä¸ä½“éªŒ

- **é«˜æ€§èƒ½æ¸²æŸ“**: ä¼˜åŒ–çš„è™šæ‹ŸåŒ–æ¸²æŸ“ï¼Œæ”¯æŒå¤§æ–‡æ¡£ç¼–è¾‘
- **å¢é‡æ›´æ–°**: æ™ºèƒ½çš„å†…å®¹å˜æ›´æ£€æµ‹å’Œæ›´æ–°æœºåˆ¶
- **æ‡’åŠ è½½**: æŒ‰éœ€åŠ è½½æ’ä»¶å’Œèµ„æºï¼Œæå‡åŠ è½½é€Ÿåº¦
- **TypeScript**: å®Œæ•´çš„ç±»å‹å®šä¹‰ï¼Œæä¾›ä¼˜ç§€çš„å¼€å‘ä½“éªŒ

### ğŸ”§ å¼€å‘å‹å¥½

- **é«˜åº¦å¯å®šåˆ¶**: ä¸°å¯Œçš„é…ç½®é€‰é¡¹å’Œè‡ªå®šä¹‰æ¥å£
- **æ’ä»¶å¼€å‘**: å®Œæ•´çš„æ’ä»¶å¼€å‘ API å’Œæ–‡æ¡£
- **ä¸»é¢˜å®šåˆ¶**: æ”¯æŒ Ant Design ä¸»é¢˜å®šåˆ¶
- **å›½é™…åŒ–**: å†…ç½®å¤šè¯­è¨€æ”¯æŒï¼Œæ˜“äºæ‰©å±•

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…

```bash
npm install @ant-design/md-editor
# æˆ–
yarn add @ant-design/md-editor
# æˆ–
pnpm add @ant-design/md-editor
```

### åŸºç¡€ç”¨æ³•

```tsx
import React from 'react';
import { MarkdownEditor } from '@ant-design/md-editor';

export default () => {
  return (
    <MarkdownEditor
      initValue={`# Hello World

æ¬¢è¿ä½¿ç”¨ md-editorï¼è¿™æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ Markdown ç¼–è¾‘å™¨ã€‚

## ä¸»è¦ç‰¹æ€§

- âœ… æ”¯æŒæ ‡å‡† Markdown è¯­æ³•
- âœ… å®æ—¶é¢„è§ˆåŠŸèƒ½
- âœ… è¯­æ³•é«˜äº®
- âœ… æ•°å­¦å…¬å¼æ¸²æŸ“ $E=mc^2$
- âœ… ä»£ç å—é«˜äº®

\`\`\`javascript
function hello() {
  console.log('Hello, md-editor!');
}
\`\`\`

## è¡¨æ ¼æ”¯æŒ

| åŠŸèƒ½ | æ”¯æŒ | è¯´æ˜ |
|------|------|------|
| åŸºç¡€ç¼–è¾‘ | âœ… | æ”¯æŒæ‰€æœ‰æ ‡å‡†è¯­æ³• |
| å®æ—¶é¢„è§ˆ | âœ… | æ‰€è§å³æ‰€å¾— |
| æ’ä»¶ç³»ç»Ÿ | âœ… | å¯æ‰©å±•æ¶æ„ |

> è¿™åªæ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œæ›´å¤šåŠŸèƒ½ç­‰ä½ æ¢ç´¢ï¼
`}
    />
  );
};
```

### é«˜çº§ç”¨æ³•

```tsx
import React, { useRef } from 'react';
import { MarkdownEditor, MarkdownEditorInstance } from '@ant-design/md-editor';

export default () => {
  const editorRef = useRef<MarkdownEditorInstance>();

  const handleSave = () => {
    const content = editorRef.current?.getValue();
    console.log('ä¿å­˜å†…å®¹:', content);
  };

  return (
    <MarkdownEditor
      editorRef={editorRef}
      height={600}
      initValue={# Hello World

æ¬¢è¿ä½¿ç”¨ md-editorï¼è¿™æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ Markdown ç¼–è¾‘å™¨ã€‚

## ä¸»è¦ç‰¹æ€§

- âœ… æ”¯æŒæ ‡å‡† Markdown è¯­æ³•
- âœ… å®æ—¶é¢„è§ˆåŠŸèƒ½
- âœ… è¯­æ³•é«˜äº®
- âœ… æ•°å­¦å…¬å¼æ¸²æŸ“ $E=mc^2$
- âœ… ä»£ç å—é«˜äº®

\`\`\`javascript
function hello() {
  console.log('Hello, md-editor!');
}
\`\`\`

## è¡¨æ ¼æ”¯æŒ

| åŠŸèƒ½ | æ”¯æŒ | è¯´æ˜ |
|------|------|------|
| åŸºç¡€ç¼–è¾‘ | âœ… | æ”¯æŒæ‰€æœ‰æ ‡å‡†è¯­æ³• |
| å®æ—¶é¢„è§ˆ | âœ… | æ‰€è§å³æ‰€å¾— |
| æ’ä»¶ç³»ç»Ÿ | âœ… | å¯æ‰©å±•æ¶æ„ |

> è¿™åªæ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œæ›´å¤šåŠŸèƒ½ç­‰ä½ æ¢ç´¢ï¼
`}
      toolBar={{
        enable: true,
        extra: [
          <button key="save" onClick={handleSave}>
            ä¿å­˜
          </button>,
        ],
      }}
      onChange={(value, schema) => {
        console.log('å†…å®¹å˜åŒ–:', value);
      }}
      image={{
        upload: async (files) => {
          // è‡ªå®šä¹‰å›¾ç‰‡ä¸Šä¼ é€»è¾‘
          return ['https://example.com/uploaded-image.png'];
        },
      }}
    />
  );
};
```

## ğŸ“– æ–‡æ¡£

- [å¿«é€Ÿå¼€å§‹](./docs/components/api.md)
- [API æ–‡æ¡£](./docs/components/api.md)
- [ç»„ä»¶æ–‡æ¡£](./docs/components/)
- [æ’ä»¶å¼€å‘](./docs/plugin/)
- [å¼€å‘æŒ‡å—](./docs/development/)

## ğŸ”— ç›¸å…³é“¾æ¥

- [åœ¨çº¿æ¼”ç¤º](https://ant-design.github.io/md-editor/)
- [GitHub ä»“åº“](https://github.com/ant-design/md-editor)
- [é—®é¢˜åé¦ˆ](https://github.com/ant-design/md-editor/issues)
- [æ›´æ–°æ—¥å¿—](https://github.com/ant-design/md-editor/releases)

## ğŸ“‹ API æ–‡æ¡£

### MarkdownEditor å±æ€§

| å±æ€§                    | ç±»å‹                                                                       | é»˜è®¤å€¼  | æè¿°               |
| ----------------------- | -------------------------------------------------------------------------- | ------- | ------------------ |
| **åŸºç¡€é…ç½®**            |
| className               | `string`                                                                   | -       | è‡ªå®šä¹‰ç±»å         |
| width                   | `string \| number`                                                         | -       | ç¼–è¾‘å™¨å®½åº¦         |
| height                  | `string \| number`                                                         | -       | ç¼–è¾‘å™¨é«˜åº¦         |
| initValue               | `string`                                                                   | -       | åˆå§‹å†…å®¹           |
| readonly                | `boolean`                                                                  | `false` | æ˜¯å¦ä¸ºåªè¯»æ¨¡å¼     |
| **æ ·å¼é…ç½®**            |
| style                   | `React.CSSProperties`                                                      | -       | å®¹å™¨æ ·å¼           |
| contentStyle            | `React.CSSProperties`                                                      | -       | å†…å®¹åŒºåŸŸæ ·å¼       |
| editorStyle             | `React.CSSProperties`                                                      | -       | ç¼–è¾‘å™¨æ ·å¼         |
| **åŠŸèƒ½é…ç½®**            |
| toc                     | `boolean`                                                                  | `false` | æ˜¯å¦æ˜¾ç¤ºç›®å½•       |
| toolBar                 | `ToolBarProps`                                                             | -       | å·¥å…·æ é…ç½®         |
| typewriter              | `boolean`                                                                  | `false` | æ˜¯å¦å¼€å¯æ‰“å­—æœºæ¨¡å¼ |
| reportMode              | `boolean`                                                                  | `false` | æ˜¯å¦å¼€å¯æŠ¥å‘Šæ¨¡å¼   |
| slideMode               | `boolean`                                                                  | `false` | æ˜¯å¦å¼€å¯ PPT æ¨¡å¼  |
| **æ‰©å±•é…ç½®**            |
| codeProps               | `{ Languages?: string[] }`                                                 | -       | ä»£ç é«˜äº®é…ç½®       |
| image                   | `ImageConfig`                                                              | -       | å›¾ç‰‡ä¸Šä¼ é…ç½®       |
| comment                 | `CommentProps`                                                             | -       | è¯„è®ºåŠŸèƒ½é…ç½®       |
| fncProps                | `FnProps`                                                                  | -       | åŠŸèƒ½å±æ€§é…ç½®       |
| **é«˜çº§é…ç½®**            |
| rootContainer           | `React.MutableRefObject<HTMLDivElement>`                                   | -       | æ ¹å®¹å™¨å¼•ç”¨         |
| editorRef               | `React.MutableRefObject<MarkdownEditorInstance>`                           | -       | ç¼–è¾‘å™¨å®ä¾‹å¼•ç”¨     |
| eleItemRender           | `(props: ElementProps, defaultDom: React.ReactNode) => React.ReactElement` | -       | è‡ªå®šä¹‰å…ƒç´ æ¸²æŸ“     |
| initSchemaValue         | `Elements[]`                                                               | -       | åˆå§‹ç»“æ„æ•°æ®       |
| insertAutocompleteProps | `InsertAutocompleteProps`                                                  | -       | è‡ªåŠ¨è¡¥å…¨é…ç½®       |
| titlePlaceholderContent | `string`                                                                   | -       | æ ‡é¢˜å ä½ç¬¦å†…å®¹     |
| **äº‹ä»¶å›è°ƒ**            |
| onChange                | `(value: string, schema: Elements[]) => void`                              | -       | å†…å®¹å˜åŒ–å›è°ƒ       |

### ToolBarProps

| å±æ€§      | ç±»å‹                | é»˜è®¤å€¼  | æè¿°                   |
| --------- | ------------------- | ------- | ---------------------- |
| min       | `boolean`           | `false` | æ˜¯å¦å¯ç”¨æœ€å°åŒ–æ¨¡å¼     |
| enable    | `boolean`           | `true`  | æ˜¯å¦å¯ç”¨å·¥å…·æ          |
| extra     | `React.ReactNode[]` | -       | é¢å¤–çš„è‡ªå®šä¹‰å·¥å…·æ é¡¹ç›® |
| hideTools | `ToolsKeyType[]`    | -       | éœ€è¦éšè—çš„å·¥å…·æ é€‰é¡¹   |

### ImageConfig

| å±æ€§   | ç±»å‹                                                        | æè¿°                      |
| ------ | ----------------------------------------------------------- | ------------------------- |
| upload | `(file: File[] \| string[]) => Promise<string[] \| string>` | å›¾ç‰‡ä¸Šä¼ å‡½æ•°ï¼Œè¿”å›å›¾ç‰‡URL |

### CommentProps

| å±æ€§                | ç±»å‹                                                                | æè¿°              |
| ------------------- | ------------------------------------------------------------------- | ----------------- |
| enable              | `boolean`                                                           | æ˜¯å¦å¯ç”¨è¯„è®ºåŠŸèƒ½  |
| onSubmit            | `(id: string, comment: CommentDataType) => void`                    | è¯„è®ºæäº¤å›è°ƒ      |
| commentList         | `CommentDataType[]`                                                 | è¯„è®ºåˆ—è¡¨æ•°æ®      |
| deleteConfirmText   | `string`                                                            | åˆ é™¤ç¡®è®¤æ–‡æœ¬      |
| loadMentions        | `(keyword: string) => Promise<{ name: string; avatar?: string }[]>` | åŠ è½½@æåŠç”¨æˆ·åˆ—è¡¨ |
| mentionsPlaceholder | `string`                                                            | @æåŠè¾“å…¥æ¡†å ä½ç¬¦ |
| onDelete            | `(id: string \| number, item: CommentDataType) => void`             | è¯„è®ºåˆ é™¤å›è°ƒ      |

### MarkdownEditorInstance

ç¼–è¾‘å™¨å®ä¾‹æä¾›ä»¥ä¸‹æ–¹æ³•ï¼š

| æ–¹æ³•       | ç±»å‹                      | æè¿°               |
| ---------- | ------------------------- | ------------------ |
| getValue   | `() => string`            | è·å–å½“å‰ç¼–è¾‘å™¨å†…å®¹ |
| setValue   | `(value: string) => void` | è®¾ç½®ç¼–è¾‘å™¨å†…å®¹     |
| getSchema  | `() => Elements[]`        | è·å–å½“å‰æ–‡æ¡£ç»“æ„   |
| insertText | `(text: string) => void`  | åœ¨å…‰æ ‡ä½ç½®æ’å…¥æ–‡æœ¬ |
| focus      | `() => void`              | èšç„¦ç¼–è¾‘å™¨         |
| blur       | `() => void`              | å¤±ç„¦ç¼–è¾‘å™¨         |

## ğŸ› ï¸ å¼€å‘

ï¼š

### ç¯å¢ƒè¦æ±‚

- Node.js >= 16.0.0
- npm >= 8.0.0 æˆ– pnpm >= 7.0.0

### æœ¬åœ°å¼€å‘

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/ant-design/md-editor.git
cd md-editor

# å®‰è£…ä¾èµ–
pnpm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm start

# åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ http://localhost:8000
```

### å¯ç”¨è„šæœ¬

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆå¸¦çƒ­é‡è½½ï¼‰
pnpm start

# æ„å»ºåº“æ–‡ä»¶
pnpm run build

# ç›‘å¬æ¨¡å¼æ„å»º
pnpm run build:watch

# æ„å»ºæ–‡æ¡£ç«™ç‚¹
pnpm run docs:build

# è¿è¡Œæµ‹è¯•
pnpm run test

# æµ‹è¯•è¦†ç›–ç‡
pnpm run test:coverage

# ä»£ç æ£€æŸ¥
pnpm run lint

# æ ¼å¼åŒ–ä»£ç 
pnpm run prettier

# ç±»å‹æ£€æŸ¥
pnpm run tsc

# é¡¹ç›®å¥åº·æ£€æŸ¥
pnpm run doctor
```

### é¡¹ç›®ç»“æ„

```
md-editor/
â”œâ”€â”€ src/                    # æºä»£ç 
â”‚   â”œâ”€â”€ MarkdownEditor/     # æ ¸å¿ƒç¼–è¾‘å™¨
â”‚   â”œâ”€â”€ MarkdownInputField/ # è¾“å…¥ç»„ä»¶
â”‚   â”œâ”€â”€ History/           # å†å²è®°å½•
â”‚   â”œâ”€â”€ Bubble/            # æ°”æ³¡ç»„ä»¶
â”‚   â”œâ”€â”€ Workspace/         # å·¥ä½œç©ºé—´
â”‚   â”œâ”€â”€ plugins/           # æ’ä»¶ç³»ç»Ÿ
â”‚   â”œâ”€â”€ hooks/             # è‡ªå®šä¹‰ Hooks
â”‚   â”œâ”€â”€ utils/             # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ types/             # ç±»å‹å®šä¹‰
â”œâ”€â”€ docs/                  # æ–‡æ¡£å’Œç¤ºä¾‹
â”œâ”€â”€ tests/                 # æµ‹è¯•æ–‡ä»¶
â””â”€â”€ scripts/               # æ„å»ºè„šæœ¬
```

### è´¡çŒ®æŒ‡å—

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯: `git checkout -b feature/amazing-feature`
3. æäº¤æ›´æ”¹: `git commit -m 'Add amazing feature'`
4. æ¨é€åˆ†æ”¯: `git push origin feature/amazing-feature`
5. æäº¤ Pull Request

æ›´å¤šè¯¦ç»†ä¿¡æ¯è¯·æŸ¥çœ‹ [è´¡çŒ®æŒ‡å—](./CONTRIBUTING.md)ã€‚

## ğŸ¤ ç¤¾åŒº

- [è®¨è®ºåŒº](https://github.com/ant-design/md-editor/discussions) - æŠ€æœ¯è®¨è®ºå’Œé—®ç­”
- [é—®é¢˜åé¦ˆ](https://github.com/ant-design/md-editor/issues) - Bug æŠ¥å‘Šå’ŒåŠŸèƒ½å»ºè®®
- [æ›´æ–°æ—¥å¿—](https://github.com/ant-design/md-editor/releases) - ç‰ˆæœ¬æ›´æ–°è®°å½•

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº [MIT è®¸å¯è¯](./LICENSE) å¼€æºã€‚

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºè¯¥é¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…ï¼

<a href="https://github.com/ant-design/md-editor/graphs/contributors">
  <img src="https://contrib.rocks/image?repo=ant-design/md-editor" />
</a>
